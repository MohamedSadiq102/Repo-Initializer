function getTextValue(e){return e&&ObservableLike.getValue(e)?ObservableLike.getValue(e).displayName:""}import{__assign}from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./IdentityPickerDropdown.css";import*as React from"react";import{ObservableLike,useObservable}from"../../Core/Observable";import{Observer}from"../../Observer";import{CustomIdentityPickerDropdown}from"./CustomIdentityPickerDropdown";export var IdentityPickerDropdown=function(e){var t=useObservable(getTextValue(e.value)),r=t[0],a=t[1],i=useObservable(!1),n=i[0],o=i[1],s=e.onChange,l=function(t){e.onSuggestionsVisibleChanged&&e.onSuggestionsVisibleChanged(t),o(t)},u=function(e){return!1!==s(e)?(a(e?e.displayName||e.mailNickname:""),!0):(a(""),!1)};return ObservableLike.isObservable(e.value)||React.useEffect(function(){a(e.value&&ObservableLike.getValue(e.value)&&ObservableLike.getValue(e.value).displayName||"")},[e.value]),React.createElement(Observer,{value:{observableValue:e.value,filter:function(){return a(getTextValue(e.value)),!1}}},function(){return React.createElement(CustomIdentityPickerDropdown,__assign({},e,{suggestionsVisible:n,onChange:u,onInputChange:a,onSuggestionsVisibleChanged:l,textValue:r}))})};