import"../../CommonImports";import"../../Core/core.css";import"./Table.css";import*as React from"react";import{ObservableValue}from"../../Core/Observable";import{ExpandableButton}from"../../Button";import{ContextualMenu}from"../../Menu";import*as Resources from"../../Resources.Widgets";import{css,eventTargetContainsNode,KeyCode,preventDefault}from"../../Util";import{Location}from"../../Utilities/Position";import{IMeasurementStyle,TableColumnLayout}from"./Table.Props";export var ColumnMoreWidths;!function(e){e[e.compact=2]="compact",e[e.default=2.625]="default"}(ColumnMoreWidths||(ColumnMoreWidths={}));var ColumnMore=function(){return function(e,t,o,a,n){var l=this;void 0===a&&(a=ColumnMoreWidths.default),this.ariaLabel=Resources.MoreActions,this.columnLayout=TableColumnLayout.none,this.id="_more",this.widthStyle=IMeasurementStyle.REM,this.renderCell=function(e,t,o,a){var n,r=React.createRef();return l.refs&&!l.refs.value[e]&&(l.refs.value[e]=r),React.createElement("td",{"aria-colindex":t+1,className:css("bolt-table-cell-side-action bolt-table-cell bolt-list-cell","col-"+t),"data-column-index":t,key:"col-more",onClick:l.onClick,onDoubleClick:preventDefault,onKeyDown:l.onKeyDown,onMouseDown:preventDefault},!l.menuAvailable||l.menuAvailable(a)?React.createElement("div",{className:"bolt-table-cell-content-reveal flex-row justify-center"},React.createElement(ExpandableButton,{ariaLabel:Resources.MoreTooltip,className:"bolt-table-button-more",excludeTabStop:!0,hideDropdownIcon:!0,iconProps:{className:"small",iconName:"MoreVertical"},onClick:function(o){l.onActivate&&l.onActivate(e,t,o)},ref:null===(n=l.refs)||void 0===n?void 0:n.value[e],renderCallout:function(t,o,n){return React.createElement(ContextualMenu,{anchorElement:n,anchorOrigin:{horizontal:Location.end,vertical:Location.end},menuProps:l.menuProvider(a,e,r),menuOrigin:{horizontal:Location.end,vertical:Location.start},onDismiss:t.collapse})},subtle:!0,tooltipProps:{text:Resources.MoreTooltip}})):React.createElement("span",{className:"bolt-table-cell-content visually-hidden"},Resources.NoMoreActions))},this.renderHeaderCell=function(e,t){return React.createElement("th",{"aria-colindex":e+1,"aria-label":t.ariaLabel,className:css(t.headerClassName,"bolt-table-header-cell bolt-table-header-cell-empty","col-header-"+e),"data-column-index":e,key:"col-more"})},this.onClick=function(e){e.defaultPrevented||eventTargetContainsNode(e,["A"],document.body)||e.preventDefault()},this.onKeyDown=function(e){e.defaultPrevented||e.which!==KeyCode.enter&&e.which!==KeyCode.space||eventTargetContainsNode(e,["A"])||e.preventDefault()},this.menuAvailable=t,this.menuProvider=e,this.onActivate=o,this.width=new ObservableValue(a),this.refs=n}}();export{ColumnMore};