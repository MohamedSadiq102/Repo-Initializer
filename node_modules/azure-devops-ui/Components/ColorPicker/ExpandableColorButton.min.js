import"../../CommonImports";import"../../Core/core.css";import"./ColorPicker.css";import*as React from"react";import{ObservableValue,useObservable}from"../../Core/Observable";import{ExpandableButton}from"../../Button";import{IconSize}from"../../Icon";import{ListSelection}from"../../List";import{Observer}from"../../Observer";import{css}from"../../Util";import{ColorDropdownCallout}from"./ColorDropdown";import{addColorClass,colorItems}from"./Utils";export function ExpandableColorButton(o){var e=o.ariaLabel,r=o.className,t=o.color,l=o.onColorSelected,n=React.useRef(new ListSelection),c=useObservable("#000000")[0];React.useEffect(function(){c.value=t;var o=colorItems.findIndex(function(o){return"#"+o.id===t});n.current.select(o>=0?o:0)},[t]);var a=addColorClass(t),s=function(o,e){c.value="#"+e.id,l("#"+e.id)};return React.createElement("div",{className:"flex-column justify-center color-callout"},React.createElement(ExpandableButton,{ariaLabel:e,className:css(r,a,"color-dropdown color-callout"),renderCallout:function(o,e,r,t,l,c,a){return React.createElement(ColorDropdownCallout,{id:e,focusOnMount:!0,anchorElement:r,anchorOffset:t,anchorOrigin:l,anchorPoint:c,dropdownOrigin:a,blurDismiss:!0,lightDismiss:!0,onDismiss:o.collapse,items:colorItems,filterText:new ObservableValue(""),onSelect:s,selection:n.current})},iconProps:{iconName:"FontColor",size:IconSize.medium},hideDropdownIcon:!0}),React.createElement(Observer,{color:c},function(o){return React.createElement("div",{className:"style-rule-font-color-bar",style:{backgroundColor:o.color}})}))};